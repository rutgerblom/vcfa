###############################################################################
# VMware Cloud Foundation Automation (VCFA) ‚Äì Example Configuration
# ---------------------------------------------------------------------------
# Environment-specific values used by Terraform.
#
# üëâ Adjust family names, counts, and references to fit your lab.
# üëâ Never commit real passwords or API keys if this repo is shared.
###############################################################################

# =============================================================================
# üîê VCFA Provider Connection
# =============================================================================
# URL of your VCF Automation API endpoint.
# Include https:// and no trailing slash.
vcfa_url = "https://vcfa.example.lab"

# Allow self-signed or unverified SSL certificates.
# Recommended: true for labs, false for production.
vcfa_allow_unverified_ssl = true

# Provider organization name (usually "System" for provider-level operations).
vcfa_organization = "System"

# =============================================================================
# üèóÔ∏è Organization Families (names, counts, and per-family infra)
# =============================================================================
# Define one or more families of orgs. Each entry provides:
#   - name: family key (e.g., "devs", "ops")
#   - count: how many orgs to create (org_<family>_001..NNN)
#   - provider_gateway_name: Provider GW name in the target region
#   - edge_cluster_name:     Edge Cluster name in the target region
org_families = [
  {
    name                  = "devs"
    count                 = 2
    provider_gateway_name = "pgw_devs"
    edge_cluster_name     = "edge-cluster-1"
  },
  {
    name                  = "ops"
    count                 = 2
    provider_gateway_name = "pgw_ops"
    edge_cluster_name     = "edge-cluster-1"
  }
]

# Template for org descriptions ($${name} inserts the org name).
org_description_template = "Created by Terraform $${name}"

# Whether new orgs should be enabled immediately.
org_enabled = true

# =============================================================================
# üåê Infrastructure References
# =============================================================================
# These names must exactly match objects that exist in your VCFA environment.

vcfa_vcenter_name               = "vcsa.example.lab"
vcfa_supervisor_name            = "supervisor-1"
vcfa_region_name                = "lab-region-1"
vcfa_region_zone_name           = "zone-a"
vcfa_region_storage_policy_name = "vSAN Default Storage Policy"

# =============================================================================
# üßÆ Quota Configuration (applied via vcfa_org_region_quota)
# =============================================================================
# Allowed VM classes in the region (names must exist in your VCFA region).
vcfa_vm_class_names = [
  "best-effort-xsmall",
  "best-effort-small",
  "best-effort-medium",
  "best-effort-large",
  "best-effort-xlarge",
  "best-effort-2xlarge",
  "best-effort-4xlarge",
  "best-effort-8xlarge",
]

# CPU and memory limits (MHz/MiB) per org in the region/zone.
vcfa_quota_cpu_limit_mhz          = 50000
vcfa_quota_cpu_reservation_mhz    = 0
vcfa_quota_memory_limit_mib       = 51200
vcfa_quota_memory_reservation_mib = 0

# Storage cap per org (MiB) under the region storage policy.
vcfa_quota_storage_limit_mib      = 524288  # = 512 GiB

# =============================================================================
# üß© Networking
# =============================================================================
# Org Networking:
# - Created for every org with a short log_name (‚â§ 8 chars) derived from family+index.
# - Not deletable via API; see README for safe teardown steps.

# Regional Networking:
# - Set enable_org_networking=true to create a regional networking object per org.
# - To limit to specific orgs, list them below as org_devs_001-style names.

enable_org_networking       = true
networking_target_org_names = []   # Leave empty to apply to all orgs.

# Optional short prefix/suffix for the org networking log_name.
# NOTE: Prefix+suffix must be ‚â§ 3 total chars to keep the final log_name ‚â§ 8.
network_log_name_prefix = ""
network_log_name_suffix = ""

# =============================================================================
# üîß Regional Networking Naming
# =============================================================================
# Template used for naming the regional networking object per org.
# Use $${name} to inject the org name automatically.
org_regional_networking_name_template = "$${name}-regional"
